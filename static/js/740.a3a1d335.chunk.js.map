{"version":3,"file":"static/js/740.a3a1d335.chunk.js","mappings":"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","sources":["webpack://worldwise/./src/components/Logo.module.css?e251","components/Logo.jsx","webpack://worldwise/./src/components/Map.module.css?b0b1","components/Map.jsx","hooks/useGeolocation.js","webpack://worldwise/./src/components/AppNav.module.css?4b17","components/AppNav.jsx","webpack://worldwise/./src/components/Sidebar.module.css?32f0","components/Sidebar.jsx","webpack://worldwise/./src/components/User.module.css?979c","components/User.jsx","webpack://worldwise/./src/pages/AppLayout.module.css?e3d1","pages/AppLayout.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"logo\":\"Logo_logo__329O6\"};","import { Link } from \"react-router-dom\";\nimport styles from \"./Logo.module.css\";\n\nfunction Logo() {\n  return (\n    <Link to=\"/\">\n      <img src=\"/logo.png\" alt=\"WorldWise logo\" className={styles.logo} />\n    </Link>\n  );\n}\n\nexport default Logo;\n","// extracted by mini-css-extract-plugin\nexport default {\"mapContainer\":\"Map_mapContainer__PI7qL\",\"map\":\"Map_map__+vr6Z\"};","import { useNavigate } from \"react-router-dom\";\nimport styles from \"./Map.module.css\";\nimport {\n  MapContainer,\n  Marker,\n  Popup,\n  TileLayer,\n  useMap,\n  useMapEvent,\n} from \"react-leaflet\";\nimport { useEffect, useState } from \"react\";\nimport { useCities } from \"../contexts/CitiesContext\";\nimport { useGeolocation } from \"../hooks/useGeolocation\";\nimport Button from \"./Button\";\nimport { useUrlPosition } from \"../hooks/useUrlPosition\";\nfunction Map() {\n  const { cities } = useCities();\n\n  const [mapPosition, setMapPosition] = useState([40, 0]);\n\n  const {\n    isLoading: isLoadingPosition,\n    position: geolocationPosition,\n    getPosition,\n  } = useGeolocation();\n\n  // const [searchParams] = useSearchParams();\n  // const mapLat = searchParams.get(\"lat\");\n  // const mapLng = searchParams.get(\"lng\");\n  const [mapLat, mapLng] = useUrlPosition();\n\n  useEffect(() => {\n    if (mapLat && mapLng) setMapPosition([mapLat, mapLng]);\n  }, [mapLat, mapLng]);\n\n  useEffect(() => {\n    if (geolocationPosition)\n      setMapPosition([geolocationPosition.lat, geolocationPosition.lng]);\n  }, [geolocationPosition]);\n\n  return (\n    <div\n      className={styles.mapContainer}\n      // onClick={() => {\n      //   navigate(\"form\");\n      // }}\n    >\n      {!geolocationPosition && (\n        <Button type=\"position\" onClick={getPosition}>\n          {isLoadingPosition ? \"Loading...\" : \"Use your position\"}\n        </Button>\n      )}\n      <MapContainer\n        center={mapPosition}\n        // center={[mapLat, mapLng]}\n        zoom={6}\n        scrollWheelZoom={true}\n        className={styles.map}\n      >\n        <TileLayer\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\"\n        />\n        {cities.map((city) => (\n          <Marker\n            position={[city.position.lat, city.position.lng]}\n            key={city.id}\n          >\n            <Popup>\n              <span>{city.emoji}</span>\n              <span>{city.cityName}</span>\n            </Popup>\n          </Marker>\n        ))}\n        <ChangeCenter position={mapPosition} />\n        <DetectClick />\n      </MapContainer>\n    </div>\n  );\n}\n\nfunction ChangeCenter({ position }) {\n  const map = useMap();\n  map.setView(position);\n  return null;\n}\n\nfunction DetectClick() {\n  const navigate = useNavigate();\n  useMapEvent({\n    click: (e) => navigate(`form?lat=${e.latlng.lat}&lng=${e.latlng.lng}`),\n  });\n}\n\nexport default Map;\n","import { useState } from \"react\";\n\nexport function useGeolocation(defaultPosition = null) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [position, setPosition] = useState(defaultPosition);\n    const [error, setError] = useState(null);\n  \n    function getPosition() {\n      if (!navigator.geolocation)\n        return setError(\"Your browser does not support geolocation\");\n  \n      setIsLoading(true);\n      navigator.geolocation.getCurrentPosition(\n        (pos) => {\n          setPosition({\n            lat: pos.coords.latitude,\n            lng: pos.coords.longitude\n          });\n          setIsLoading(false);\n        },\n        (error) => {\n          setError(error.message);\n          setIsLoading(false);\n        }\n      );\n    }\n  \n    return { isLoading, position, error, getPosition };\n  }\n  ","// extracted by mini-css-extract-plugin\nexport default {\"nav\":\"AppNav_nav__tBVq+\"};","import { NavLink } from \"react-router-dom\";\nimport styles from \"./AppNav.module.css\";\nfunction AppNav() {\n  return <nav className={styles.nav}>\n    <ul>\n      <li>\n        <NavLink to=\"cities\">Cities</NavLink>\n      </li>\n      <li>\n        <NavLink to=\"countries\">Countries</NavLink>\n      </li>\n    </ul>\n  </nav>;\n}\n\nexport default AppNav;\n","// extracted by mini-css-extract-plugin\nexport default {\"sidebar\":\"Sidebar_sidebar__TTYAt\",\"footer\":\"Sidebar_footer__J9-iw\",\"copyright\":\"Sidebar_copyright__HNiPV\"};","import { Outlet } from \"react-router-dom\";\nimport AppNav from \"./AppNav\";\nimport Logo from \"./Logo\";\nimport styles from \"./Sidebar.module.css\";\nfunction Sidebar() {\n  return (\n    <div className={styles.sidebar}>\n      <Logo />\n      <AppNav />\n      <Outlet />\n\n    \n      <footer className={styles.footer}>\n        <p className={styles.copyright}>\n          &copy; Copyright {new Date().getFullYear()} by WorldWise Inc.\n        </p>\n      </footer>\n    </div>\n  );\n}\n\nexport default Sidebar;\n","// extracted by mini-css-extract-plugin\nexport default {\"user\":\"User_user__rXljj\"};","import { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/FakeAuthContext\";\nimport styles from \"./User.module.css\";\n\nfunction User() {\n  const { user, logout } = useAuth();\n\n  const navigate = useNavigate();\n\n  function handleClick() {\n    logout();\n    navigate(\"/\");\n  }\n\n  return (\n    <div className={styles.user}>\n      <img src={user.avatar} alt={user.name} />\n      <span>Welcome, {user.name}</span>\n      <button onClick={handleClick}>Logout</button>\n    </div>\n  );\n}\n\nexport default User;\n\n/*\nCHALLENGE\n\n1) Add `AuthProvider` to `App.jsx`\n2) In the `Login.jsx` page, call `login()` from context\n3) Inside an effect, check whether `isAuthenticated === true`. If so, programatically navigate to `/app`\n4) In `User.js`, read and display logged in user from context (`user` object). Then include this component in `AppLayout.js`\n5) Handle logout button by calling `logout()` and navigating back to `/`\n*/\n","// extracted by mini-css-extract-plugin\nexport default {\"app\":\"AppLayout_app__nhoAP\"};","\nimport Map from \"../components/Map\"\nimport Sidebar from \"../components/Sidebar\"\nimport User from \"../components/User\"\nimport styles from './AppLayout.module.css'\n\nfunction AppLayout() {\n    return (\n        \n        <div className={styles.app}>\n            <Sidebar />\n            <Map />\n            <User />\n           \n        </div>\n    )\n}\n\nexport default AppLayout\n"],"names":["_jsx","Link","to","children","src","alt","className","styles","ChangeCenter","_ref","position","useMap","setView","DetectClick","navigate","useNavigate","useMapEvent","click","e","concat","latlng","lat","lng","cities","useCities","mapPosition","setMapPosition","useState","isLoading","isLoadingPosition","geolocationPosition","getPosition","defaultPosition","arguments","length","undefined","setIsLoading","setPosition","error","setError","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","message","useGeolocation","mapLat","mapLng","useUrlPosition","useEffect","_jsxs","Button","type","onClick","MapContainer","center","zoom","scrollWheelZoom","TileLayer","attribution","url","map","city","Marker","Popup","emoji","cityName","id","NavLink","Logo","AppNav","Outlet","Date","getFullYear","user","logout","useAuth","avatar","name","Sidebar","Map","User"],"sourceRoot":""}