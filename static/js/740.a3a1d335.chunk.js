"use strict";(self.webpackChunkworldwise=self.webpackChunkworldwise||[]).push([[740],{5769:(s,t,n)=>{n.d(t,{A:()=>r});var o=n(5475);const e="Logo_logo__329O6";var i=n(579);const r=function(){return(0,i.jsx)(o.N_,{to:"/",children:(0,i.jsx)("img",{src:"/logo.png",alt:"WorldWise logo",className:e})})}},740:(s,t,n)=>{n.r(t),n.d(t,{default:()=>P});var o=n(3216);const e="Map_mapContainer__PI7qL",i="Map_map__+vr6Z";var r=n(9419),a=n(2023),c=n(6036),l=n(3318),u=n(9896),d=n(5043),p=n(2797);var g=n(9368),j=n(2100),h=n(579);function x(s){let{position:t}=s;return(0,u.ko)().setView(t),null}function _(){const s=(0,o.Zp)();(0,u.gY)({click:t=>s("form?lat=".concat(t.latlng.lat,"&lng=").concat(t.latlng.lng))})}const m=function(){const{cities:s}=(0,p.J)(),[t,n]=(0,d.useState)([40,0]),{isLoading:o,position:u,getPosition:m}=function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const[t,n]=(0,d.useState)(!1),[o,e]=(0,d.useState)(s),[i,r]=(0,d.useState)(null);return{isLoading:t,position:o,error:i,getPosition:function(){if(!navigator.geolocation)return r("Your browser does not support geolocation");n(!0),navigator.geolocation.getCurrentPosition((s=>{e({lat:s.coords.latitude,lng:s.coords.longitude}),n(!1)}),(s=>{r(s.message),n(!1)}))}}}(),[f,v]=(0,j.G)();return(0,d.useEffect)((()=>{f&&v&&n([f,v])}),[f,v]),(0,d.useEffect)((()=>{u&&n([u.lat,u.lng])}),[u]),(0,h.jsxs)("div",{className:e,children:[!u&&(0,h.jsx)(g.A,{type:"position",onClick:m,children:o?"Loading...":"Use your position"}),(0,h.jsxs)(r.W,{center:t,zoom:6,scrollWheelZoom:!0,className:i,children:[(0,h.jsx)(a.e,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"}),s.map((s=>(0,h.jsx)(c.p,{position:[s.position.lat,s.position.lng],children:(0,h.jsxs)(l.z,{children:[(0,h.jsx)("span",{children:s.emoji}),(0,h.jsx)("span",{children:s.cityName})]})},s.id))),(0,h.jsx)(x,{position:t}),(0,h.jsx)(_,{})]})]})};var f=n(5475);const v="AppNav_nav__tBVq+";const w=function(){return(0,h.jsx)("nav",{className:v,children:(0,h.jsxs)("ul",{children:[(0,h.jsx)("li",{children:(0,h.jsx)(f.k2,{to:"cities",children:"Cities"})}),(0,h.jsx)("li",{children:(0,h.jsx)(f.k2,{to:"countries",children:"Countries"})})]})})};var N=n(5769);const b="Sidebar_sidebar__TTYAt",k="Sidebar_footer__J9-iw",y="Sidebar_copyright__HNiPV";const C=function(){return(0,h.jsxs)("div",{className:b,children:[(0,h.jsx)(N.A,{}),(0,h.jsx)(w,{}),(0,h.jsx)(o.sv,{}),(0,h.jsx)("footer",{className:k,children:(0,h.jsxs)("p",{className:y,children:["\xa9 Copyright ",(new Date).getFullYear()," by WorldWise Inc."]})})]})};var A=n(4769);const S="User_user__rXljj";const L=function(){const{user:s,logout:t}=(0,A.A)(),n=(0,o.Zp)();return(0,h.jsxs)("div",{className:S,children:[(0,h.jsx)("img",{src:s.avatar,alt:s.name}),(0,h.jsxs)("span",{children:["Welcome, ",s.name]}),(0,h.jsx)("button",{onClick:function(){t(),n("/")},children:"Logout"})]})},W="AppLayout_app__nhoAP";const P=function(){return(0,h.jsxs)("div",{className:W,children:[(0,h.jsx)(C,{}),(0,h.jsx)(m,{}),(0,h.jsx)(L,{})]})}}}]);
//# sourceMappingURL=740.a3a1d335.chunk.js.map